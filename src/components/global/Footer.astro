---
  import { getRelativeLocaleUrl } from 'astro:i18n';
  import { useTranslations } from '@/i18n';
  import logoRef from '@/assets/images/logo.svg';
  import { SITE, FOOTER } from '@/libs/config';
  const { locale } = Astro.params;
  const t = useTranslations(locale);
  function getLocaleUrl(locales, path) {
    const url = getRelativeLocaleUrl(locales, path)
    if (url.indexOf('#')) {
      return url.substring(0, url.length - 1)
    }
    return url
  }
---
<footer>
  <div
    class="items-center px-8 mx-auto py-12 md:px-12 lg:px-16 xl:px-36 2xl:max-w-7xl"
  >
    <div class="grid grid-cols-2 items-start gap-8 gap-y-24 xl:col-span-4">
      <a
        href="/"
        class="xl:col-span-1 text-link inline-flex items-center gap-3"
      >
        <img src={logoRef.src} alt={SITE.name} />
      </a>
      <div class="md:grid md:grid-cols-2 xl:grid-cols-3 md:gap-8">
        {
        FOOTER.links.map(({ title, links }) => (
        <div>
          <h3 class="text-lg text-link font-medium tracking-tight">
            {t(title)}
          </h3>
          {links && Array.isArray(links) && links.length > 0 && (
          <ul role="list" class="mt-4 space-y-1">
            {links.map(({ text, href }) => (
            <li>
              <a href={getLocaleUrl(locale, href)} class="text-base text-link-light hover:text-accent">
                {t(text)}
              </a>
            </li>
            ))}
          </ul>
          )}
        </div>
        ))}
      </div>
    </div>
  </div>
</footer>
<footer class="bg-default border-t">
  <div class="items-center px-8 mx-auto py-6 md:px-12 lg:px-16 xl:px-36 2xl:max-w-7xl">
    <section class="mt-6 gap-y-6 gap-x-8">
      <div>
        <Fragment set:html={FOOTER.note} />
      </div>
    </section>
  </div>
</footer>
