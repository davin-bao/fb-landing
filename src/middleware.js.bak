// import { defineMiddleware } from "astro:middleware";
// import { redirectToDefaultLocale } from "astro:i18n"; // 在 `manual` 路由下可用的函数
// export const onRequest = defineMiddleware(async (context, next) => {
//   let { params: { locale }, url: { pathname} } = context
//   console.log('middleware', locale, pathname, context.preferredLocale)
//   if (pathname === "/") {
//     context.params.locale = "en"
//     // return next()
// //   } else {
//     return redirectToDefaultLocale(context, 302)
//   } else {
//     return next()
//   }
// })